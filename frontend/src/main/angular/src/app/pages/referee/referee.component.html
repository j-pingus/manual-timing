<mat-card>
  <mat-card-header>
    <mat-card-title>
      <button [disabled]="eventId<=1" color="accent"
              mat-mini-fab aria-label="go to previous event" matTooltip="previous event"
              (click)="previousEvent()">
        <mat-icon>chevron_left</mat-icon>
      </button>
      <span class="filler"> </span>
      <span>Event #{{event?.id}}</span>
      <span>Lane #{{user.lane}}</span>
      <span>{{event?.description}}</span>
      <span class="filler"> </span>
      <button [disabled]="(eventId)>=events.length" color="accent"
              mat-mini-fab aria-label="go to next event" matTooltip="next event"
              (click)="nextEvent()">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="title">
      <span class="heatId">heat</span>
      <span class="swimmer">swimmer</span>
      <span class="time"> </span>
    </div>
    <div *ngFor="let heat of heats" [class.heat]="heat.inscription!=undefined"
         [class.hidden]="heat.inscription==undefined">
      <ng-container *ngIf="heat.inscription!=undefined">
        <span class="heatId">{{heat.id}}</span>
        <span class="swimmer"><a href="javascript:void(0)" (click)="popup(heat.inscription)">{{heat.inscription?.name}}</a></span>

        <mat-form-field appearance="fill" class="time">
          <mat-label>Time</mat-label>
          <input matInput
                 placeholder="mm:ss.ddd"
                 [disabled]="heat.inscription == undefined"
                 [(ngModel)]="heat.time"
                 #model="ngModel"
                 appManualTime
                 (blur)="save(heat,model)"
                 type="tel">
        </mat-form-field>
      </ng-container>
    </div>
  </mat-card-content>
</mat-card>
<div class="data">
  {{heats | json}}
</div>
